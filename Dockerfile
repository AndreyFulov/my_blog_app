# Используем образ Golang в качестве базового
FROM golang:1.22.5-alpine

WORKDIR /app
# Копируем файлы из подпапки "code" в контейнер
COPY ./server /app

# Устанавливаем необходимые пакеты (если нужно)
RUN apk add --no-cache ca-certificates

# Собираем и устанавливаем зависимости для Go-приложения
RUN go build -o main .

# Объявляем, что контейнер будет прослушивать порт 8080 TCP (по вашему выбору)


# Запускаем приложение при старте контейнера
CMD ["./main"]